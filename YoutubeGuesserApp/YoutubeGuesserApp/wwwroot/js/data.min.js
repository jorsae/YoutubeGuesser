function harvest(){var n=getHarvestCookie(cookieName);if(!n){var t=getOS(),i=getBrowser(),r=navigator.language,u=detectMobile(),f=getReferrer(),e={OperatingSystem:t,browser:i,language:r,isMobile:u,referrer:f};jsonData=JSON.stringify(e);postRequest("/api/harvest",jsonData,callbackHarvest)}}function callbackHarvest(n){n.responseText==="true"&&setHarvestCookie(cookieName,cookieValue)}function setHarvestCookie(n,t){var i=new Date,r;i.setTime(i.getTime()+cookieDurationDays*864e5);r="; expires="+i.toUTCString();document.cookie=n+"="+(t||"")+r+"; path=/"}function getHarvestCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function eraseCookie(n){document.cookie=n+"=; Max-Age=-99999999;"}function getReferrer(){var n=document.referrer;return n.indexOf(location.protocol+"//"+location.host)!==0?n:""}function detectMobile(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1}function getOS(){return window.navigator.userAgent.indexOf("Windows NT 10.0")!=-1?"Windows 10":window.navigator.userAgent.indexOf("Windows NT 6.2")!=-1?"Windows 8":window.navigator.userAgent.indexOf("Windows NT 6.1")!=-1?"Windows 7":window.navigator.userAgent.indexOf("Windows NT 6.0")!=-1?"Windows Vista":window.navigator.userAgent.indexOf("Windows NT 5.1")!=-1?"Windows XP":window.navigator.userAgent.indexOf("Windows NT 5.0")!=-1?"Windows 2000":window.navigator.userAgent.indexOf("Mac")!=-1?"Mac/iOS":window.navigator.userAgent.indexOf("X11")!=-1?"UNIX":window.navigator.userAgent.indexOf("Linux")!=-1?"Linux":"Unknown"}function getBrowser(){return browser=getBrowserByDuckTyping(),browser==="Unknown"?getBrowserByUserAgent():browser}function getBrowserByDuckTyping(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0?"Opera":typeof InstallTrigger!="undefined"?"Firefox":/constructor/i.test(window.HTMLElement)||function(n){return n.toString()==="[object SafariRemoteNotification]"}(!window.safari||typeof safari!="undefined"&&safari.pushNotification)?"Safari":/*@cc_on!@*/!1||!!document.documentMode?"IE":!window.StyleMedia?!!window.chrome&&(!!window.chrome.webstore||!!window.chrome.runtime)?"Chrome":"Unknown":"Edge"}function getBrowserByUserAgent(){return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!=-1?"Opera":navigator.userAgent.indexOf("Chrome")!=-1?"Chrome":navigator.userAgent.indexOf("Safari")!=-1?"Safari":navigator.userAgent.indexOf("Firefox")!=-1?"Firefox":navigator.userAgent.indexOf("MSIE")!=-1||!!document.documentMode==!0?"IE":"Unknown"}const cookieName="_data",cookieValue=!0,cookieDurationDays=365;harvest();